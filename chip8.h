
#include <string>
#include <fstream>
class chip8{
public: bool drawFlag;
public:
	unsigned short opcode; // the current opcode
	unsigned char memory[4096]; //all memory (bytes)
	unsigned char V[16]; // all registers
	unsigned short I; // index register
	unsigned short pc; // program counter
	unsigned char gfx[64 * 32]; //graphics
	unsigned char delay_timer; // the 60hz timer
	unsigned char sound_timer; // 60hz timer for making sounds
	unsigned short stack[16]; // stack for calls and jumps
	unsigned short sp; // for stack pointer
	unsigned char key[16];	
	unsigned char chip8_fontset[80] =
{ 
  0xF0, 0x90, 0x90, 0x90, 0xF0, // 0
  0x20, 0x60, 0x20, 0x20, 0x70, // 1
  0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2
  0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3
  0x90, 0x90, 0xF0, 0x10, 0x10, // 4
  0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5
  0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6
  0xF0, 0x10, 0x20, 0x40, 0x40, // 7
  0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8
  0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9
  0xF0, 0x90, 0xF0, 0x90, 0x90, // A
  0xE0, 0x90, 0xE0, 0x90, 0xE0, // B
  0xF0, 0x80, 0x80, 0x80, 0xF0, // C
  0xE0, 0x90, 0x90, 0x90, 0xE0, // D
  0xF0, 0x80, 0xF0, 0x80, 0xF0, // E
  0xF0, 0x80, 0xF0, 0x80, 0x80  // F
};

public:
	void initialize();
public:
	void emulateCycle();
public:
	void loadGame(const std::string& filename);
public: 
	void drawGame(char x, char y, int H);
public:
	void clearScreen();
};
